# m_rs_4
# Практическое задание №4. Анализ протоколов обнаружения отказов

## Часть 1. Теоретический анализ

### Сравнительная таблица характеристик

| Характеристика                     | Gossip (Serf)         | Heartbeat (централизованный) |
|-----------------------------------|------------------------|------------------------------|
| Время обнаружения первого отказа  | ≈0.71 сек             | ≈1.0 сек                    |
| Масштабируемость (Big-O)          | O(log N)              | O(N)                        |
| Single point of failure           | Нет                   | Да                          |
| Устойчивость к разделению сети    | Высокая               | Низкая                      |

### Расчёты

- **Время конвергенции Gossip**:  
  ![T ≈ τ · logₖ(N)](https://latex.codecogs.com/svg.image?T%20%5Capprox%20%5Ctau%20%5Ccdot%20%5Clog_k%28N%29)

  Для параметров:  
  - τ = 0.2 сек  
  - k = 3  
  - N = 50  
  → ![T ≈ 0.2 · log₃(50) ≈ 0.71](https://latex.codecogs.com/svg.image?T%20%5Capprox%200.2%20%5Ccdot%20%5Clog_3%2850%29%20%5Capprox%200.71)

- **Пропускная способность Gossip (на узел)**:  
  ![BW = (3·1024·8)/0.2 = 122880 бит/с = 122.88 Кбит/с](https://latex.codecogs.com/svg.image?%5Cfrac%7B3%20%5Ccdot%201024%20%5Ccdot%208%7D%7B0.2%7D%20%3D%20122880%20%5Ctext%7B%20%5Ctext%7Bbit/s%7D%7D%20%3D%20122.88%20%5Ctext%7B%20%5Ctext%7BKbit/s%7D%7D)

- **Пропускная способность Heartbeat (на узел)**:  
  ![BW = (1024·8)/0.2 = 40960 бит/с = 40.96 Кбит/с](https://latex.codecogs.com/svg.image?%5Cfrac%7B1024%20%5Ccdot%208%7D%7B0.2%7D%20%3D%2040960%20%5Ctext%7B%20%5Ctext%7Bbit/s%7D%7D%20%3D%2040.96%20%5Ctext%7B%20%5Ctext%7BKbit/s%7D%7D)

---

## Часть 2. Эксперименты (симуляция)

### Эксперимент 1: Влияние Gossip Interval (50 узлов, 5% потерь, 10% отказов)

| Gossip Interval (сек) | Время конвергенции (сек) | Пропускная способность на узел (Кбит/с) |
|------------------------|---------------------------|------------------------------------------|
| 0.1                    | 1.2                       | 245.76                                   |
| 0.2                    | 1.8                       | 122.88                                   |
| 0.5                    | 3.5                       | 49.15                                    |
| 1.0                    | 6.0                       | 24.58                                    |

> *Пропускная способность рассчитана по формуле:*  
> Пропускная способность = (fanout · размер_пакета · 8) / интервал

### Эксперимент 2: Влияние количества узлов (Gossip Interval=0.2 с, Fanout=3)

| Nodes | Время конвергенции (сек) | Теория: 0.2 · log₃(N) |
|-------|---------------------------|------------------------|
| 10    | 1.5                       | 0.42                   |
| 25    | 2.2                       | 0.57                   |
| 50    | 3.0                       | 0.71                   |
| 100   | 4.5                       | 0.85                   |

**Вывод**: время конвергенции растёт медленнее, чем линейно, но быстрее теоретической оценки из-за потерь пакетов и случайности. Подтверждается логарифмическая масштабируемость **O(log N)**.

---

## Часть 3. Влияние потери пакетов

| Packet Loss (%) | Время конвергенции (сек) |
|------------------|---------------------------|
| 0                | 2.0                       |
| 5                | 3.0                       |
| 20               | 6.5                       |

**Вывод**: при 20% потерь время конвергенции увеличивается более чем в 3 раза. Gossip устойчив, но чувствителен к высоким потерям.
